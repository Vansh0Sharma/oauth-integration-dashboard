{"ast":null,"code":"var _jsxFileName = \"/Users/vansshar/Downloads/integrations_technical_assessment/frontend/src/integrations/hubspot.js\",\n  _s = $RefreshSig$();\n// src/integrations/hubspot.js\nimport { useState } from 'react';\nimport { Box, Button } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HUBSPOT_BASE = \"http://localhost:8000/integrations/hubspot\";\nexport const HubspotIntegration = ({\n  user,\n  org,\n  integrationParams,\n  setIntegrationParams\n}) => {\n  _s();\n  const [authComplete, setAuthComplete] = useState(false);\n  const handleAuthorize = async () => {\n    var _response$data;\n    const formData = new FormData();\n    formData.append(\"user_id\", user);\n    formData.append(\"org_id\", org);\n    const response = await axios.post(`${HUBSPOT_BASE}/authorize`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n\n    // Redirect to HubSpot authorization URL\n    if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.url) {\n      window.location.href = response.data.url;\n    }\n  };\n  const handleGetCredentials = async () => {\n    const formData = new FormData();\n    formData.append(\"user_id\", user);\n    formData.append(\"org_id\", org);\n    const response = await axios.post(`${HUBSPOT_BASE}/credentials`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    setIntegrationParams({\n      type: 'Hubspot',\n      credentials: response.data\n    });\n    setAuthComplete(true);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    sx: {\n      mt: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleAuthorize,\n      sx: {\n        mb: 1\n      },\n      children: \"Authorize HubSpot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleGetCredentials,\n      disabled: authComplete,\n      children: \"Get HubSpot Credentials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(HubspotIntegration, \"1y1EjN8aUKjZJXqmHhWUyGPd7YY=\");\n_c = HubspotIntegration;\nvar _c;\n$RefreshReg$(_c, \"HubspotIntegration\");","map":{"version":3,"names":["useState","Box","Button","axios","jsxDEV","_jsxDEV","HUBSPOT_BASE","HubspotIntegration","user","org","integrationParams","setIntegrationParams","_s","authComplete","setAuthComplete","handleAuthorize","_response$data","formData","FormData","append","response","post","headers","data","url","window","location","href","handleGetCredentials","type","credentials","display","flexDirection","sx","mt","children","variant","onClick","mb","fileName","_jsxFileName","lineNumber","columnNumber","disabled","_c","$RefreshReg$"],"sources":["/Users/vansshar/Downloads/integrations_technical_assessment/frontend/src/integrations/hubspot.js"],"sourcesContent":["// src/integrations/hubspot.js\nimport { useState } from 'react';\nimport {\n    Box,\n    Button,\n} from '@mui/material';\nimport axios from 'axios';\n\nconst HUBSPOT_BASE = \"http://localhost:8000/integrations/hubspot\";\n\nexport const HubspotIntegration = ({ user, org, integrationParams, setIntegrationParams }) => {\n    const [authComplete, setAuthComplete] = useState(false);\n\n    const handleAuthorize = async () => {\n        const formData = new FormData();\n        formData.append(\"user_id\", user);\n        formData.append(\"org_id\", org);\n\n        const response = await axios.post(`${HUBSPOT_BASE}/authorize`, formData, {\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n\n        // Redirect to HubSpot authorization URL\n        if (response.data?.url) {\n            window.location.href = response.data.url;\n        }\n    };\n\n    const handleGetCredentials = async () => {\n        const formData = new FormData();\n        formData.append(\"user_id\", user);\n        formData.append(\"org_id\", org);\n\n        const response = await axios.post(`${HUBSPOT_BASE}/credentials`, formData, {\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n\n        setIntegrationParams({\n            type: 'Hubspot',\n            credentials: response.data,\n        });\n        setAuthComplete(true);\n    };\n\n    return (\n        <Box display='flex' flexDirection='column' sx={{ mt: 2 }}>\n            <Button\n                variant=\"contained\"\n                onClick={handleAuthorize}\n                sx={{ mb: 1 }}\n            >\n                Authorize HubSpot\n            </Button>\n            <Button\n                variant=\"contained\"\n                onClick={handleGetCredentials}\n                disabled={authComplete}\n            >\n                Get HubSpot Credentials\n            </Button>\n        </Box>\n    );\n};\n"],"mappings":";;AAAA;AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SACIC,GAAG,EACHC,MAAM,QACH,eAAe;AACtB,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,YAAY,GAAG,4CAA4C;AAEjE,OAAO,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,GAAG;EAAEC,iBAAiB;EAAEC;AAAqB,CAAC,KAAK;EAAAC,EAAA;EAC1F,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMe,eAAe,GAAG,MAAAA,CAAA,KAAY;IAAA,IAAAC,cAAA;IAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEX,IAAI,CAAC;IAChCS,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEV,GAAG,CAAC;IAE9B,MAAMW,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAE,GAAEf,YAAa,YAAW,EAAEW,QAAQ,EAAE;MACrEK,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB;IACrD,CAAC,CAAC;;IAEF;IACA,KAAAN,cAAA,GAAII,QAAQ,CAACG,IAAI,cAAAP,cAAA,eAAbA,cAAA,CAAeQ,GAAG,EAAE;MACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGP,QAAQ,CAACG,IAAI,CAACC,GAAG;IAC5C;EACJ,CAAC;EAED,MAAMI,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACrC,MAAMX,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEX,IAAI,CAAC;IAChCS,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEV,GAAG,CAAC;IAE9B,MAAMW,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAE,GAAEf,YAAa,cAAa,EAAEW,QAAQ,EAAE;MACvEK,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB;IACrD,CAAC,CAAC;IAEFX,oBAAoB,CAAC;MACjBkB,IAAI,EAAE,SAAS;MACfC,WAAW,EAAEV,QAAQ,CAACG;IAC1B,CAAC,CAAC;IACFT,eAAe,CAAC,IAAI,CAAC;EACzB,CAAC;EAED,oBACIT,OAAA,CAACJ,GAAG;IAAC8B,OAAO,EAAC,MAAM;IAACC,aAAa,EAAC,QAAQ;IAACC,EAAE,EAAE;MAAEC,EAAE,EAAE;IAAE,CAAE;IAAAC,QAAA,gBACrD9B,OAAA,CAACH,MAAM;MACHkC,OAAO,EAAC,WAAW;MACnBC,OAAO,EAAEtB,eAAgB;MACzBkB,EAAE,EAAE;QAAEK,EAAE,EAAE;MAAE,CAAE;MAAAH,QAAA,EACjB;IAED;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTrC,OAAA,CAACH,MAAM;MACHkC,OAAO,EAAC,WAAW;MACnBC,OAAO,EAAET,oBAAqB;MAC9Be,QAAQ,EAAE9B,YAAa;MAAAsB,QAAA,EAC1B;IAED;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEd,CAAC;AAAC9B,EAAA,CApDWL,kBAAkB;AAAAqC,EAAA,GAAlBrC,kBAAkB;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}